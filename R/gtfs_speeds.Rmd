---
title: "GTFS Bus Speeds Analysis"
output: html_document
date: '2022-10-13'
---

```{r, include = FALSE, warning=FALSE, message=FALSE}
library(tidyverse)
library(sf)
library(tidytransit)
library(leaflet)
```

```{r}
#read in gtfs data
gtfs_path <- "data/UTA/gtfs.zip"
uta_gtfs <- tidytransit::read_gtfs(gtfs_path)
```

```{r}
#determine which service days to use
calendar <- gtfs$calendar
calendar_dates <- gtfs$calendar_dates %>%
  mutate(weekday = weekdays(date))
calendarDays <- calendar_dates %>%
  group_by(service_id, weekday) %>%
  summarize(n = n())

#'17     - Th
#'1004   - M:F
#'12704  - M:F
#'13304  - M:F
#'210704 - M:F
#'24904  - M:F
#'128004 - M:Th
#'142204 - M:Th
#'340904 - M:Th
#'504    - M:W
#'150804 - M,W,F
#'4      - M,Th,F
#'
#'123704 - M
#'16     - M
#'276904 - F
#'340804 - F
#'12     - F
#'71304  - F
#'207302 - Sa



```






```{r}
services_on_091019 <- gtfs$.$dates_services %>% 
  filter(date == "2019-09-10") %>% select(service_id)
```

